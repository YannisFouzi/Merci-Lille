import{r as n,c as v,j as e,d as w}from"./index-5d78ec83.js";const N=()=>{const[o,g]=n.useState(""),[i,f]=n.useState(""),[d,r]=n.useState(""),[a,l]=n.useState(!1),b=v(),h=async s=>{var c,u,x,m,p;s.preventDefault(),r(""),l(!0);try{await w.login(o,i),b("/admin/events",{replace:!0})}catch(t){if(console.error("Erreur de connexion:",t),((c=t.response)==null?void 0:c.status)===429){const y=Math.ceil((((x=(u=t.response)==null?void 0:u.data)==null?void 0:x.retryAfter)||900)/60);r(`Trop de tentatives de connexion. Veuillez réessayer dans ${y} minutes.`)}else((m=t.response)==null?void 0:m.status)===401?r("Identifiants invalides"):((p=t.response)==null?void 0:p.status)>=500?r("Erreur serveur, veuillez réessayer plus tard"):r("Erreur de connexion, vérifiez votre connexion internet")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-gray-900 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-white text-center",children:"Administration"}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[d&&e.jsx("div",{className:"text-red-500 text-center text-sm bg-red-100 border border-red-400 rounded px-4 py-3",children:d}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",value:o,onChange:s=>g(s.target.value),placeholder:"Nom d'utilisateur",className:"w-full px-3 py-2 border border-gray-700 rounded-md bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600",required:!0,disabled:a}),e.jsx("input",{type:"password",value:i,onChange:s=>f(s.target.value),placeholder:"Mot de passe",className:"w-full px-3 py-2 border border-gray-700 rounded-md bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600",required:!0,disabled:a})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed flex items-center justify-center",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connexion..."]}):"Se connecter"})]})]})})};export{N as default};
