import{r as d,R as se,j as e,e as f,f as P,g as ae}from"./index-daf4ed81.js";const ne=({event:r,onSubmit:p})=>{console.log("EventForm initialized:",{mode:r?"edit":"create",hasGenres:!!(r!=null&&r.genres&&r.genres.length>0)});const w=a=>new Date(a).toISOString().split("T")[0],[s,o]=d.useState(r?{...r,date:w(r.date),genres:Array.isArray(r.genres)?r.genres:typeof r.genres=="string"?JSON.parse(r.genres):[],price:typeof r.price=="number"?r.price.toString():"0"}:{title:"",eventNumber:"",city:"",date:"",time:"",genres:[],ticketLink:"",isFree:!1,price:"0",imageSrc:"",isFeatured:!1}),[g,C]=d.useState(null),[D,S]=d.useState(""),[n,m]=d.useState(""),E=a=>{a.preventDefault(),n.trim()&&!s.genres.includes(n.trim())&&(o({...s,genres:[...s.genres,n.trim()]}),m(""))},$=a=>{o({...s,genres:s.genres.filter(l=>l!==a)})},F=async a=>{a.preventDefault();try{const l=new FormData,{eventNumber:c,price:j,...u}=s,N=s.isFree?0:Number.parseFloat((j||"0").replace(",","."));if(!s.isFree&&(!Number.isFinite(N)||N<0))throw new Error("Le prix doit etre un nombre positif");const h={...u,price:N};if(console.log("Submitting event form:",{operation:r!=null&&r._id?"update":"create",hasImage:!!g,fieldsCount:Object.keys(h).length}),!s.title||!s.city||!s.date||!s.time||!s.ticketLink)throw new Error("Veuillez remplir tous les champs requis");if(!g&&!(r!=null&&r.imageSrc))throw new Error("Une image est requise");if(Object.entries(h).forEach(([q,k])=>{k!=null&&(q==="genres"?(Array.isArray(k)?k:[]).forEach((T,L)=>{l.append(`genres[${L}]`,T)}):l.append(q,k.toString()))}),g){if(g.size>5*1024*1024)throw new Error("L'image est trop volumineuse (max 5MB)");l.append("image",g)}console.log(`FormData prepared with ${Array.from(l.keys()).length} fields`),r!=null&&r._id?(console.log("Updating existing event"),await f.updateEvent(r._id,l)):(console.log("Creating new event"),await f.createEvent(l)),p()}catch(l){console.error("Event form submission failed:",l instanceof Error?l.message:"Unknown error")}},I=a=>{const l=a.split("/");return l[l.length-1]};se.useEffect(()=>{r!=null&&r.imageSrc&&S(I(r.imageSrc))},[r]);const v=a=>{var c;const l=(c=a.target.files)==null?void 0:c[0];l&&(C(l),S(l.name))};return e.jsxs("form",{onSubmit:F,className:"space-y-6 bg-gray-900 p-4 rounded-lg sm:p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white block text-lg font-bold border-b border-gray-600 pb-1 mb-2",children:"Titre de l'Ã©vÃ©nement"}),e.jsx("input",{type:"text",value:s.title,onChange:a=>o({...s,title:a.target.value}),placeholder:"Titre de l'Ã©vÃ©nement",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white block text-lg font-bold border-b border-gray-600 pb-1 mb-2",children:"Ville"}),e.jsx("input",{type:"text",value:s.city,onChange:a=>o({...s,city:a.target.value}),placeholder:"Ville",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white block text-lg font-bold border-b border-gray-600 pb-1 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:s.date,onChange:a=>o({...s,date:a.target.value}),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white w-full",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white block text-lg font-bold border-b border-gray-600 pb-1 mb-2",children:"Heure"}),e.jsx("input",{type:"time",value:s.time,onChange:a=>o({...s,time:a.target.value}),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white w-full",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white block text-lg font-bold border-b border-gray-600 pb-1 mb-2",children:"Image de l'Ã©vÃ©nement"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",onChange:v,accept:"image/*",className:"hidden",id:"imageInput",required:!r}),e.jsxs("label",{htmlFor:"imageInput",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white cursor-pointer hover:bg-gray-700 flex justify-between items-center",children:[e.jsx("span",{className:"truncate",children:D||"Choisir une image"}),e.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded ml-2",children:"Parcourir"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white block text-lg font-bold border-b border-gray-600 pb-1 mb-2",children:"Lien de billetterie"}),e.jsx("input",{type:"text",value:s.ticketLink,onChange:a=>o({...s,ticketLink:a.target.value}),placeholder:"Lien billetterie",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white block text-lg font-bold border-b border-gray-600 pb-1 mb-2",children:"Genres musicaux"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.genres.map(a=>e.jsxs("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full flex items-center",children:[a,e.jsx("button",{type:"button",onClick:()=>$(a),className:"ml-2 text-red-500 hover:text-red-400",children:"Ã—"})]},a))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:a=>m(a.target.value),placeholder:"Ajouter un genre",className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white"}),e.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Ajouter"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white block text-lg font-bold border-b border-gray-600 pb-1 mb-2",children:"Tarification"}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"checkbox",checked:s.isFree,onChange:a=>{o({...s,isFree:a.target.checked,price:a.target.checked?"0":s.price})},className:"mr-2"}),e.jsx("label",{className:"text-white",children:"Gratuit"})]}),!s.isFree&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",value:s.price,onChange:a=>{const l=a.target.value;/^\d*(?:[.,]\d{0,2})?$/.test(l)&&o({...s,price:l.replace(",",".")})},placeholder:"Prix",className:"w-32 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white",required:!s.isFree}),e.jsx("span",{className:"text-white",children:"â‚¬"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-white block text-lg font-bold border-b border-gray-600 pb-1 mb-2",children:"Options"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:s.isFeatured||!1,onChange:a=>{o({...s,isFeatured:a.target.checked})},className:"mr-2"}),e.jsx("label",{className:"text-white",children:"Mettre en avant (Ã‰vÃ©nement phare)"})]})]})]}),e.jsxs("button",{type:"submit",className:"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:[r?"Modifier":"CrÃ©er"," l'Ã©vÃ©nement"]})]})},M={async testConnection(){return(await P.get("/shotgun-sync/test")).data},async syncAllEvents(){return(await P.post("/shotgun-sync/sync-all")).data},async syncEventById(r){return(await P.post(`/shotgun-sync/sync-event/${r}`)).data},async previewEvents(){return(await P.get("/shotgun-sync/preview")).data}},le=()=>{const[r,p]=d.useState(!1),[w,s]=d.useState(null),[o,g]=d.useState(null),C=async()=>{p(!0),s(null),g(null);try{(await M.testConnection()).success?s({type:"success",text:"âœ… Connexion Ã  l'API Shotgun rÃ©ussie !"}):s({type:"error",text:"âŒ Ã‰chec de la connexion Ã  l'API Shotgun"})}catch(n){s({type:"error",text:`âŒ Erreur: ${n instanceof Error?n.message:"Erreur inconnue"}`})}finally{p(!1)}},D=async()=>{if(window.confirm("Voulez-vous vraiment synchroniser tous les Ã©vÃ©nements depuis Shotgun ? Cela peut prendre quelques instants.")){p(!0),s(null),g(null);try{const n=await M.syncAllEvents();n.success&&n.data?(g({created:n.data.created,updated:n.data.updated,errors:n.data.errors}),s({type:"success",text:`âœ… Synchronisation rÃ©ussie ! ${n.data.created} crÃ©Ã©(s), ${n.data.updated} mis Ã  jour`}),setTimeout(()=>{window.location.reload()},2e3)):s({type:"error",text:"âŒ Ã‰chec de la synchronisation"})}catch(n){s({type:"error",text:`âŒ Erreur: ${n instanceof Error?n.message:"Erreur inconnue"}`})}finally{p(!1)}}},S=async()=>{var n;p(!0),s(null),g(null);try{const m=await M.previewEvents();if(m.success&&m.data){const E=((n=m.data.events)==null?void 0:n.length)||0;s({type:"info",text:`â„¹ï¸  ${E} Ã©vÃ©nement(s) trouvÃ©(s) sur Shotgun`})}}catch(m){s({type:"error",text:`âŒ Erreur: ${m instanceof Error?m.message:"Erreur inconnue"}`})}finally{p(!1)}};return e.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"ðŸ”„ Synchronisation Shotgun"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Importez automatiquement vos Ã©vÃ©nements depuis votre compte Shotgun organisateur"})]}),w&&e.jsx("div",{className:`p-4 rounded-lg ${w.type==="success"?"bg-green-900/30 border border-green-700 text-green-300":w.type==="error"?"bg-red-900/30 border border-red-700 text-red-300":"bg-blue-900/30 border border-blue-700 text-blue-300"}`,children:w.text}),o&&e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-white font-bold mb-2",children:"ðŸ“Š RÃ©sultat :"}),e.jsxs("ul",{className:"text-gray-300 space-y-1",children:[e.jsxs("li",{children:["âœ… ",o.created," Ã©vÃ©nement(s) crÃ©Ã©(s)"]}),e.jsxs("li",{children:["âœï¸  ",o.updated," Ã©vÃ©nement(s) mis Ã  jour"]}),o.errors.length>0&&e.jsxs("li",{className:"text-red-400",children:["âŒ ",o.errors.length," erreur(s)"]})]}),o.errors.length>0&&e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"text-red-400 cursor-pointer hover:text-red-300",children:"Voir les erreurs"}),e.jsx("ul",{className:"mt-2 space-y-1 text-sm text-red-300",children:o.errors.map((n,m)=>e.jsxs("li",{children:["â€¢ ",n]},m))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx("button",{onClick:C,disabled:r,className:"px-4 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors font-medium",children:r?"â³ Test...":"ðŸ”Œ Tester la connexion"}),e.jsx("button",{onClick:S,disabled:r,className:"px-4 py-3 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors font-medium",children:r?"â³ Chargement...":"ðŸ‘ï¸  PrÃ©visualiser"}),e.jsx("button",{onClick:D,disabled:r,className:"px-4 py-3 bg-red-600 text-white rounded hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors font-medium",children:r?"â³ Sync...":"ðŸ”„ Synchroniser tout"})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-white font-bold mb-2",children:"ðŸ“– Instructions :"}),e.jsxs("ol",{className:"text-gray-300 space-y-2 text-sm list-decimal list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tester la connexion :"})," VÃ©rifiez que l'API Shotgun est accessible"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"PrÃ©visualiser :"})," VÃ©rifiez combien d'Ã©vÃ©nements seront importÃ©s"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Synchroniser :"})," Importez tous vos Ã©vÃ©nements Shotgun"]})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-700 rounded",children:e.jsxs("p",{className:"text-yellow-300 text-xs",children:["âš ï¸  ",e.jsx("strong",{children:"Note :"})," Les Ã©vÃ©nements dÃ©jÃ  synchronisÃ©s seront mis Ã  jour, pas dupliquÃ©s. Les images seront automatiquement importÃ©es sur Cloudinary."]})})]})]})},oe=()=>{const[r,p]=d.useState([]),[w,s]=d.useState(!0),[o,g]=d.useState(!1),[C,D]=d.useState(null),[S,n]=d.useState(""),[m,E]=d.useState(null),[$,F]=d.useState(null),[I,v]=d.useState(!1),[a,l]=d.useState(!1),[c,j]=d.useState(new Set),[u,N]=d.useState(!1),h=async()=>{try{s(!0);const i=[...await f.getAllEvents(!0)].sort((b,y)=>{if(b.order!==void 0&&y.order!==void 0&&b.order!==0&&y.order!==0)return y.order-b.order;const A=new Date(b.date).getTime();return new Date(y.date).getTime()-A});p(i),n("")}catch{n("Erreur lors du chargement des Ã©vÃ©nements")}finally{s(!1)}};d.useEffect(()=>{h()},[]);const q=()=>{D(null),g(!0)},k=t=>{D(t),g(!0)},_=async t=>{if(!t){n("ID d'Ã©vÃ©nement invalide");return}if(window.confirm("ÃŠtes-vous sÃ»r de vouloir supprimer cet Ã©vÃ©nement ?"))try{await f.deleteEvent(t),await h(),v(!1)}catch{n("Erreur lors de la suppression")}},T=async()=>{g(!1),await h(),v(!1)},L=(t,i)=>{E(i),t.dataTransfer.effectAllowed="move"},G=(t,i)=>{t.preventDefault(),t.dataTransfer.dropEffect="move",F(i)},V=()=>{F(null)},B=async(t,i)=>{if(t.preventDefault(),F(null),!m)return;const b=r.findIndex(z=>z._id===m);if(b===-1||b===i){E(null);return}const y=[...r],[A]=y.splice(b,1);y.splice(i,0,A),p(y),E(null),v(!0)},U=async()=>{if(I)try{l(!0);const t=r.map(i=>i._id);await f.updateEventOrder(t),v(!1),await h()}catch(t){n("Erreur lors de la sauvegarde de l'ordre"),console.error("Save order error:",t)}finally{l(!1)}},W=async()=>{v(!1),await h()},J=()=>{N(!u),j(new Set)},O=t=>{const i=new Set(c);i.has(t)?i.delete(t):i.add(t),j(i)},K=()=>{j(new Set(r.map(t=>t._id)))},Q=()=>{j(new Set)},X=async()=>{if(c.size!==0&&window.confirm(`ÃŠtes-vous sÃ»r de vouloir supprimer ${c.size} Ã©vÃ©nement(s) ?`))try{await Promise.all(Array.from(c).map(t=>f.deleteEvent(t))),j(new Set),N(!1),await h(),v(!1)}catch{n("Erreur lors de la suppression des Ã©vÃ©nements")}},Y=async()=>{if(c.size!==0)try{await f.hideMultipleEvents(Array.from(c)),j(new Set),N(!1),await h()}catch{n("Erreur lors du masquage des Ã©vÃ©nements")}},Z=async()=>{if(c.size!==0)try{await f.unhideMultipleEvents(Array.from(c)),j(new Set),N(!1),await h()}catch{n("Erreur lors du dÃ©masquage des Ã©vÃ©nements")}},ee=async(t,i)=>{if(t)try{i?await f.unhideEvent(t):await f.hideEvent(t),await h()}catch{n("Erreur lors du masquage/dÃ©masquage de l'Ã©vÃ©nement")}},te=async()=>{if(window.confirm("RenumÃ©roter tous les Ã©vÃ©nements visibles de 1 Ã  N ?"))try{await f.renumberAllEvents(),await h(),alert("âœ… RenumÃ©rotation effectuÃ©e avec succÃ¨s !")}catch{n("Erreur lors de la renumÃ©rotation")}};return w?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-white",children:"Chargement..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestion des Ã©vÃ©nements"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[I&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:W,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Annuler"}),e.jsx("button",{onClick:U,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:a?"Sauvegarde...":"Sauvegarder l'ordre"})]}),u&&c.size>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:Q,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Tout dÃ©sÃ©lectionner"}),e.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700",children:["ðŸ‘ï¸â€ðŸ—¨ï¸ Masquer (",c.size,")"]}),e.jsxs("button",{onClick:Z,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:["ðŸ‘ï¸ Afficher (",c.size,")"]}),e.jsxs("button",{onClick:X,className:"px-4 py-2 bg-red-700 text-white rounded hover:bg-red-800",children:["ðŸ—‘ï¸ Supprimer (",c.size,")"]})]}),u&&c.size===0&&e.jsx("button",{onClick:K,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Tout sÃ©lectionner"}),e.jsx("button",{onClick:J,className:`px-4 py-2 rounded ${u?"bg-yellow-600 hover:bg-yellow-700":"bg-blue-600 hover:bg-blue-700"} text-white`,children:u?"Annuler sÃ©lection":"SÃ©lectionner"}),e.jsx("button",{onClick:q,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Nouvel Ã©vÃ©nement"}),e.jsx("button",{onClick:te,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",title:"RenumÃ©roter tous les Ã©vÃ©nements visibles de 1 Ã  N",children:"ðŸ”¢ RenumÃ©roter"})]})]}),S&&e.jsx("div",{className:"bg-red-500 text-white p-4 rounded",children:S}),e.jsx(le,{}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((t,i)=>{var R,H;const b=new Date,y=new Date(t.date),[A,z]=t.time.split(":");y.setHours(parseInt(A),parseInt(z));const re=y<=b;return e.jsxs("div",{draggable:!u,onDragStart:x=>!u&&L(x,t._id),onDragOver:x=>!u&&G(x,i),onDragLeave:u?void 0:V,onDrop:x=>!u&&B(x,i),onClick:()=>u&&O(t._id),className:`relative bg-gray-800 rounded-lg overflow-hidden transition-all duration-200 ${u?"cursor-pointer":"cursor-move"} ${m===t._id?"opacity-50 scale-95":""} ${$===i?"ring-2 ring-blue-400 scale-105":""} ${u&&c.has(t._id)?"ring-4 ring-red-500":""} ${t.isHidden?"opacity-50":""}`,children:[e.jsxs("div",{className:"absolute top-2 left-2 bg-black bg-opacity-75 text-white text-sm font-bold px-3 py-1 rounded z-10",children:["#",(R=t.eventNumber)!=null&&R.startsWith("HIDDEN_")||(H=t.eventNumber)!=null&&H.startsWith("TEMP_")?"---":t.eventNumber||"---"]}),u&&e.jsx("div",{className:"absolute top-2 left-16 z-10",children:e.jsx("input",{type:"checkbox",checked:c.has(t._id),onChange:x=>{x.stopPropagation(),O(t._id)},className:"w-6 h-6 cursor-pointer"})}),e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-2",children:[t.isHidden&&e.jsx("span",{className:"bg-orange-600 text-white text-xs px-2 py-1 rounded font-bold",children:"ðŸ‘ï¸â€ðŸ—¨ï¸ MasquÃ©"}),t.isFeatured&&e.jsx("span",{className:"bg-yellow-500 text-black text-xs px-2 py-1 rounded font-bold",children:"â­ Phare"}),re?e.jsx("span",{className:"bg-gray-600 text-gray-300 text-xs px-2 py-1 rounded",children:"PassÃ©"}):e.jsx("span",{className:"bg-green-600 text-white text-xs px-2 py-1 rounded",children:"Ã€ venir"})]}),e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:t.imageSrc,alt:t.title,className:"w-full h-full object-cover pointer-events-none"})}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("h3",{className:"text-white font-bold text-lg truncate",children:t.title}),e.jsxs("div",{className:"text-gray-400 text-sm space-y-1",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“…"}),e.jsx("span",{children:ae(t.date)})]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“"}),e.jsx("span",{children:t.city})]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸŽµ"}),e.jsx("span",{className:"truncate",children:t.genres&&t.genres.length>0?t.genres.join(", "):"Aucun genre"})]})]}),!u&&e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:x=>{x.stopPropagation(),k(t)},className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors",children:"Modifier"}),e.jsx("button",{onClick:x=>{x.stopPropagation(),ee(t._id,t.isHidden||!1)},className:`flex-1 px-3 py-2 text-white text-sm rounded transition-colors ${t.isHidden?"bg-green-600 hover:bg-green-700":"bg-orange-600 hover:bg-orange-700"}`,children:t.isHidden?"ðŸ‘ï¸ Afficher":"ðŸ‘ï¸â€ðŸ—¨ï¸ Masquer"}),e.jsx("button",{onClick:x=>{x.stopPropagation(),_(t._id)},className:"flex-1 px-3 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Supprimer"})]})]})]},t._id)})}),r.length===0&&!w&&e.jsx("div",{className:"text-center py-12 text-gray-400",children:"Aucun Ã©vÃ©nement trouvÃ©"}),o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-2 sm:p-4 z-50 overflow-y-auto scrollbar-none",onClick:t=>{t.target===t.currentTarget&&g(!1)},children:e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 w-full max-w-3xl max-h-[85vh] my-6 sm:my-8 overflow-y-auto scrollbar-thin scrollbar-track-gray-800 scrollbar-thumb-gray-600 hover:scrollbar-thumb-gray-500",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:C?"Modifier un Ã©vÃ©nement":"Nouvel Ã©vÃ©nement"}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-white text-xl px-2",children:"âœ•"})]}),e.jsx(ne,{event:C||void 0,onSubmit:T})]})}):null]})};export{oe as default};
