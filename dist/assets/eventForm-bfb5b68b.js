import{o as p,s as f,p as L,a as y,$ as b,b as h,c as g,d as n,e as j,f as x,n as E}from"./forms-1ddf1958.js";function v(t,i){try{var s=t()}catch(e){return i(e)}return s&&s.then?s.then(void 0,i):s}function q(t,i){for(var s={};t.length;){var e=t[0],u=e.code,a=e.message,r=e.path.join(".");if(!s[r])if("unionErrors"in e){var o=e.unionErrors[0].errors[0];s[r]={message:o.message,type:o.code}}else s[r]={message:a,type:u};if("unionErrors"in e&&e.unionErrors.forEach(function(d){return d.errors.forEach(function(l){return t.push(l)})}),i){var c=s[r].types,m=c&&c[e.code];s[r]=h(r,i,s,u,m?[].concat(m,e.message):e.message)}t.shift()}return s}function w(t,i){for(var s={};t.length;){var e=t[0],u=e.code,a=e.message,r=e.path.join(".");if(!s[r])if(e.code==="invalid_union"&&e.errors.length>0){var o=e.errors[0][0];s[r]={message:o.message,type:o.code}}else s[r]={message:a,type:u};if(e.code==="invalid_union"&&e.errors.forEach(function(d){return d.forEach(function(l){return t.push(l)})}),i){var c=s[r].types,m=c&&c[e.code];s[r]=h(r,i,s,u,m?[].concat(m,e.message):e.message)}t.shift()}return s}function P(t,i,s){if(s===void 0&&(s={}),function(e){return"_def"in e&&typeof e._def=="object"&&"typeName"in e._def}(t))return function(e,u,a){try{return Promise.resolve(v(function(){return Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](e,i)).then(function(r){return a.shouldUseNativeValidation&&p({},a),{errors:{},values:s.raw?Object.assign({},e):r}})},function(r){if(function(o){return Array.isArray(o==null?void 0:o.issues)}(r))return{values:{},errors:f(q(r.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw r}))}catch(r){return Promise.reject(r)}};if(function(e){return"_zod"in e&&typeof e._zod=="object"}(t))return function(e,u,a){try{return Promise.resolve(v(function(){return Promise.resolve((s.mode==="sync"?L:y)(t,e,i)).then(function(r){return a.shouldUseNativeValidation&&p({},a),{errors:{},values:s.raw?Object.assign({},e):r}})},function(r){if(function(o){return o instanceof b}(r))return{values:{},errors:f(w(r.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw r}))}catch(r){return Promise.reject(r)}};throw new Error("Invalid input: not a Zod schema")}const U=g({name:n().min(1,"Le nom est requis").max(100,"Le nom ne peut pas dépasser 100 caractères").trim(),email:n().min(1,"L'email est requis").email("L'email n'est pas valide").max(255,"L'email ne peut pas dépasser 255 caractères").trim().toLowerCase(),subject:n().min(1,"L'objet est requis").max(200,"L'objet ne peut pas dépasser 200 caractères").trim(),message:n().min(1,"Le message est requis").min(10,"Le message doit contenir au moins 10 caractères").max(2e3,"Le message ne peut pas dépasser 2000 caractères").trim()}),F=g({title:n().min(1,"Le titre est requis").max(200,"Le titre ne peut pas dépasser 200 caractères").trim(),city:n().min(1,"La ville est requise").max(100,"La ville ne peut pas dépasser 100 caractères").trim(),date:n().min(1,"La date est requise").regex(/^\d{4}-\d{2}-\d{2}$/,"Format de date invalide (YYYY-MM-DD)"),time:n().min(1,"L'heure est requise").regex(/^\d{2}:\d{2}$/,"Format d'heure invalide (HH:mm)"),ticketLink:n().min(1,"Le lien de billetterie est requis").url("Le lien doit être une URL valide").max(500,"Le lien ne peut pas dépasser 500 caractères").trim(),genres:j(n()),isFeatured:x(),imageSrc:n().optional(),country:n().optional(),order:E().optional()}),M=(t,i)=>i&&!t?{valid:!0}:!i&&!t?{valid:!1,error:"Une image est requise"}:t&&t.size>5*1024*1024?{valid:!1,error:"L'image est trop volumineuse (max 5MB)"}:t&&!t.type.startsWith("image/")?{valid:!1,error:"Le fichier doit être une image"}:{valid:!0};export{P as a,U as c,F as e,M as v};
